<img src="https://www.bjp.org.cn/upload/image/2024/03/28/1711590931539079035.png" width="800" />  

<small>**半人马座ω球状星团中的数百万颗恒星**</small>  

> **图片来源及版权：Massimo Di Fusco, Mirco Turra**
>
> 说明：半人马座ω球状星团（NGC 5139）距离我们15000光年远。该星团由大约1000万颗比太阳年龄大得多的恒星组成，直径约为150光年。它是在银河系光环中漫游的已知的约200个球状星团中最大、最亮的一个。尽管大多数星团都由年龄和成分相同的恒星组成，但神秘的半人马座ω球状星团展示出具有不同年龄和化学丰度的恒星群的存在。事实上，半人马座ω球状星团可能是一个与银河系合并的小星系的残余核心。半人马座ω球状星团的红巨星呈淡黄色，可以在这张清晰的彩色望远镜图片中很容易地辨认出来。



![sap033-202412030054300](https://aea62e6.webp.li/2024/12/sap033-202412030054300.png)



### 问题分析 (Question Analysis)

------

一家公司正在为移动应用托管一个单体 REST API，该 API 通过托管在 Amazon Route 53 的域名连接到所有 EC2 实例。公司创建了一个 Route 53 多值响应路由策略，使用所有 EC2 实例的 IP 地址。由于流量的突然增加，应用程序未能跟上。解决方案架构师需要实施解决方案，以便应用程序能够处理新的和变化的负载。需要确定以最少的操作开销满足这些要求的解决方案。

---

### 选项分析 (Answer Analysis)

------

#### **选项 A**

**将 API 拆分为独立的 AWS Lambda 函数，并配置 Amazon API Gateway REST API 与 Lambda 集成。更新 Route 53 记录以指向 API Gateway。**

- **分析：**
    - 使用 Lambda 可以应对流量波动，是无服务器架构，操作开销小。
    - API Gateway 能够自动扩展，适合处理突发流量，符合需求。

---

#### **选项 B**

**将 API 逻辑容器化。创建一个 Amazon Elastic Kubernetes Service (EKS) 集群。在集群中运行容器。更新 Route 53 记录以指向 Kubernetes ingress。**

- **分析：**
    - Kubernetes 提供了强大的管理能力，但设置和维护 EKS 需要较高的操作开销。
    - 不如使用 Lambda 和 API Gateway 的无服务器解决方案简洁。

---

#### **选项 C**

**创建一个 Auto Scaling 组，将所有 EC2 实例放入该组。配置 Auto Scaling 组以根据 CPU 利用率执行缩放操作。创建一个 AWS Lambda 函数，响应 Auto Scaling 组的变化并更新 Route 53 记录。**

- **分析：**
    - Auto Scaling 能够根据负载调整 EC2 实例数量，但仍依赖于 EC2，管理复杂度相对较高。
    - 操作成本较高，不如使用无服务器架构的选项有效。

---

#### **选项 D**

**在 API 前面创建一个应用负载均衡器 (ALB)。将 EC2 实例移至 VPC 的私有子网中。将 EC2 实例作为 ALB 的目标。更新 Route 53 记录以指向 ALB。**

- **分析：**
    - ALB 可以平衡流量，但仍需管理 EC2 实例，并且此选项会增加运维负担。
    - 较高的操作开销，不如使用无服务器架构的选项有效。

---

### 最佳答案 (Correct Answer)

**选项 A**

---

### 总结 (Summary)

选择 **选项 A** 是最优解决方案，通过将 API 拆分为 Lambda 函数，利用 API Gateway 的无服务器架构，能够以最低的操作开销有效处理流量变化。

如有其他问题，请继续询问！
